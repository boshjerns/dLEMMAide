/* dLEMMA IDE - Blue-Magenta-Yellow Gradient Theme */

:root {
  /* Default Dark Theme */
  --bg-primary: #0d1117;
  --bg-secondary: rgba(13, 17, 23, 0.95);
  --bg-tertiary: rgba(22, 27, 34, 0.95);
  --bg-sidebar: rgba(13, 17, 23, 0.98);
  --bg-chat: rgba(6, 8, 12, 0.95);
  
  /* Glass Card Colors */
  --glass-card: rgba(22, 27, 34, 0.95);
  --glass-card-hover: rgba(30, 35, 42, 0.95);
  --glass-overlay: rgba(13, 17, 23, 0.85);
  
  /* Text Colors */
  --text-primary: #f0f6fc;
  --text-secondary: #0ea5e9;
  --text-muted: #8b949e;
  --text-highlight: #fbbf24;
  
  /* Border & Glass Effects */
  --border-color: rgba(48, 54, 61, 0.6);
  --border-chat: rgba(48, 54, 61, 0.8);
  --glass-border: rgba(139, 148, 158, 0.15);
  
  /* Blue-Magenta-Yellow Gradient Colors */
  --accent-primary: #0ea5e9;
  --accent-secondary: #e879f9;
  --accent-tertiary: #fbbf24;
  --accent-gradient: linear-gradient(135deg, #0ea5e9 0%, #e879f9 50%, #fbbf24 100%);
  --accent-gradient-reverse: linear-gradient(135deg, #fbbf24 0%, #e879f9 50%, #0ea5e9 100%);
  --accent-blue: #0ea5e9;
  --accent-magenta: #e879f9;
  --accent-yellow: #fbbf24;
  --accent-green: #10b981;
  --accent-orange: #f59e0b;
  
  /* Status Colors */
  --error-color: #f87171;
  --success-color: #10b981;
  --warning-color: #fbbf24;
  
  /* Glass Effects */
  --glass-blur: blur(12px);
  --glass-blur-light: blur(8px);
  --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  --glass-shadow-lg: 0 16px 64px rgba(0, 0, 0, 0.4);
}

/* Light Theme Variables - Illustrative Black & White */
[data-theme="light"] {
  /* Pure black and white base */
  --bg-primary: #ffffff;
  --bg-secondary: #ffffff;
  --bg-tertiary: #fafafa;
  --bg-sidebar: #ffffff;
  --bg-chat: #ffffff;
  
  /* Card and overlay colors */
  --glass-card: #ffffff;
  --glass-card-hover: #f5f5f5;
  --glass-overlay: rgba(255, 255, 255, 0.98);
  
  /* Text hierarchy in pure black/gray */
  --text-primary: #000000;
  --text-secondary: #333333;
  --text-muted: #666666;
  --text-highlight: #000000;
  
  /* Strong black borders for illustrative feel */
  --border-color: #000000;
  --border-chat: #000000;
  --glass-border: #000000;
  
  /* Minimal shadows */
  --glass-shadow: 0 0 0 1px #000000;
  --glass-shadow-lg: 0 0 0 2px #000000;
  
  /* Monochrome accent colors */
  --accent-blue: #000000;
  --accent-magenta: #444444;
  --accent-yellow: #666666;
  --accent-green: #333333;
  --accent-orange: #555555;
  
  /* Status colors in grayscale */
  --error-color: #000000;
  --success-color: #333333;
  --warning-color: #666666;
  
  /* Remove glass effects for clean look */
  --glass-blur: none;
  --glass-blur-light: none;
  
  /* Special gradient for illustrative theme */
  --accent-gradient: linear-gradient(135deg, #000000 0%, #333333 50%, #666666 100%);
  --accent-gradient-reverse: linear-gradient(135deg, #666666 0%, #333333 50%, #000000 100%);
}

/* Material Darker Theme */
[data-theme="material-darker"] {
  --bg-primary: #212121;
  --bg-secondary: rgba(33, 33, 33, 0.95);
  --bg-tertiary: rgba(42, 42, 42, 0.95);
  --bg-sidebar: rgba(33, 33, 33, 0.98);
  --bg-chat: rgba(24, 24, 24, 0.95);
  
  --glass-card: rgba(42, 42, 42, 0.95);
  --glass-card-hover: rgba(48, 48, 48, 0.95);
  --glass-overlay: rgba(33, 33, 33, 0.85);
  
  --text-primary: #eeffff;
  --text-secondary: #82aaff;
  --text-muted: #616161;
  --text-highlight: #ffcb6b;
  
  --border-color: rgba(66, 66, 66, 0.6);
  --border-chat: rgba(66, 66, 66, 0.8);
  --glass-border: rgba(97, 97, 97, 0.15);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
  background: var(--bg-primary);
  color: var(--text-primary);
  overflow: hidden;
  height: 100vh;
  font-weight: 400;
  letter-spacing: -0.01em;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Illustrative styles for light theme */
[data-theme="light"] .ide-container {
  background: #ffffff;
}

[data-theme="light"] .file-sidebar,
[data-theme="light"] .editor-pane,
[data-theme="light"] .chat-interface,
[data-theme="light"] .terminal-section {
  border: 1px solid #000000;
  background: #ffffff;
  box-shadow: none;
  backdrop-filter: none;
}

[data-theme="light"] .sidebar-header,
[data-theme="light"] .chat-header,
[data-theme="light"] .terminal-header,
[data-theme="light"] .editor-header {
  background: #ffffff;
  border-bottom: 1px solid #000000;
  backdrop-filter: none;
}

[data-theme="light"] .chat-input-container {
  background: #ffffff !important;
  border-top: 2px solid #000000 !important;
  box-shadow: none !important;
  padding: 12px;
  backdrop-filter: none !important;
}

[data-theme="light"] .chat-input-wrapper {
  background: #ffffff;
  border: 1px solid #000000;
  box-shadow: none;
}

[data-theme="light"] #chat-input {
  background: #ffffff;
  border: 1px solid #000000;
  color: #000000;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  padding: 12px;
  box-shadow: none;
}

[data-theme="light"] #chat-input:focus {
  background: #ffffff;
  border: 2px solid #000000;
  outline: none;
  padding: 11px;
  box-shadow: none;
}

[data-theme="light"] #chat-input::placeholder {
  color: #999999;
}

[data-theme="light"] .chat-controls {
  background: #ffffff;
  border-left: 1px solid #000000;
}

[data-theme="light"] .context-area {
  background: #ffffff;
  border: 1px solid #000000;
  color: #666666;
}

[data-theme="light"] .btn-primary,
[data-theme="light"] .send-btn {
  background: #000000;
  color: #ffffff;
  border: 1px solid #000000;
  box-shadow: none;
}

[data-theme="light"] .btn-primary:hover,
[data-theme="light"] .send-btn:hover {
  background: #333333;
  border: 1px solid #000000;
  box-shadow: none;
}

[data-theme="light"] #send-btn {
  background: #000000;
  color: #ffffff;
  border: 1px solid #000000;
  box-shadow: none;
}

[data-theme="light"] #send-btn:hover {
  background: #333333;
  box-shadow: none;
}

[data-theme="light"] #send-btn:disabled {
  background: #cccccc;
  color: #666666;
  border: 1px solid #999999;
}

[data-theme="light"] .message {
  background: #ffffff;
  border: 1px solid #000000;
  box-shadow: none;
}

[data-theme="light"] .message.ai {
  background: #fafafa;
  border: 1px solid #000000;
}

[data-theme="light"] .file-tree-item:hover {
  background: #f0f0f0;
  border-radius: 0;
}

[data-theme="light"] button {
  transition: all 0.15s ease;
}

[data-theme="light"] button:hover {
  background: #f0f0f0;
}

/* More light theme specific styles */
[data-theme="light"] .tab {
  background: #ffffff !important;
  border: 1px solid #000000 !important;
  border-bottom: none !important;
  color: #000000 !important;
  box-shadow: none !important;
}

[data-theme="light"] .tab.active {
  background: #ffffff !important;
  border: 2px solid #000000 !important;
  border-bottom: none !important;
  color: #000000 !important;
}

[data-theme="light"] .tab:hover:not(.active) {
  background: #f5f5f5 !important;
  color: #000000 !important;
}

[data-theme="light"] .tab-close {
  color: #000000 !important;
  background: transparent !important;
}

[data-theme="light"] .tab-close:hover {
  background: #f0f0f0 !important;
  color: #000000 !important;
}

[data-theme="light"] .breadcrumb-link {
  color: #000000;
  border: 1px solid transparent;
  padding: 4px 8px;
}

[data-theme="light"] .breadcrumb-link:hover {
  background: #f0f0f0;
  border: 1px solid #000000;
}

[data-theme="light"] .breadcrumb-separator {
  color: #666666;
}

[data-theme="light"] .folder-path {
  background: #ffffff;
  border-bottom: 1px solid #000000;
}

[data-theme="light"] .explorer-buttons button {
  border: 1px solid #000000;
  background: #ffffff;
  color: #000000;
}

[data-theme="light"] .explorer-buttons button:hover {
  background: #f0f0f0;
}

[data-theme="light"] .btn-parent-folder {
  background: #000000 !important;
  color: #ffffff !important;
  border: 1px solid #000000 !important;
}

[data-theme="light"] .btn-parent-folder:hover {
  background: #333333 !important;
}

[data-theme="light"] .button-separator {
  background: #000000;
  opacity: 1;
}

[data-theme="light"] .settings-panel,
[data-theme="light"] .history-panel {
  background: #ffffff;
  border: 2px solid #000000;
  box-shadow: none;
}

[data-theme="light"] .settings-header,
[data-theme="light"] .history-header {
  background: #ffffff;
  border-bottom: 1px solid #000000;
}

[data-theme="light"] select,
[data-theme="light"] input[type="text"],
[data-theme="light"] input[type="number"],
[data-theme="light"] textarea {
  background: #ffffff !important;
  border: 1px solid #000000 !important;
  color: #000000 !important;
  box-shadow: none !important;
}

[data-theme="light"] select:focus,
[data-theme="light"] input[type="text"]:focus,
[data-theme="light"] input[type="number"]:focus,
[data-theme="light"] textarea:focus {
  background: #ffffff !important;
  border: 2px solid #000000 !important;
  color: #000000 !important;
  outline: none !important;
  box-shadow: none !important;
}

/* Specific fixes for AI section inputs */
[data-theme="light"] .ai-controls input,
[data-theme="light"] .ai-controls select,
[data-theme="light"] .chat-controls input,
[data-theme="light"] .chat-controls select,
[data-theme="light"] .token-input,
[data-theme="light"] #context-tokens,
[data-theme="light"] #max-tokens {
  background: #ffffff !important;
  border: 1px solid #000000 !important;
  color: #000000 !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
}

[data-theme="light"] .ai-controls input:focus,
[data-theme="light"] .ai-controls select:focus,
[data-theme="light"] .chat-controls input:focus,
[data-theme="light"] .chat-controls select:focus,
[data-theme="light"] .token-input:focus,
[data-theme="light"] #context-tokens:focus,
[data-theme="light"] #max-tokens:focus {
  background: #ffffff !important;
  border: 2px solid #000000 !important;
  color: #000000 !important;
  outline: none !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
}

/* Token controls container */
[data-theme="light"] .chat-token-controls {
  background: #ffffff !important;
  color: #000000 !important;
}

[data-theme="light"] .token-control {
  background: #ffffff !important;
  color: #000000 !important;
}

[data-theme="light"] .token-control label {
  color: #000000 !important;
}

[data-theme="light"] .code-chunk-card {
  background: #ffffff;
  border: 1px solid #000000;
  box-shadow: none;
}

[data-theme="light"] .todo-item {
  background: #ffffff;
  border: 1px solid #000000;
  box-shadow: none;
}

[data-theme="light"] .todo-item:hover {
  background: #f5f5f5;
}

[data-theme="light"] .find-replace-panel {
  background: #ffffff;
  border: 1px solid #000000;
  box-shadow: none;
}

[data-theme="light"] .welcome-screen {
  background: #ffffff;
}

[data-theme="light"] .welcome-card {
  background: #ffffff;
  border: 2px solid #000000;
  box-shadow: none;
}

[data-theme="light"] .logo-text {
  background: linear-gradient(135deg, #000000 0%, #333333 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

[data-theme="light"] ::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

[data-theme="light"] ::-webkit-scrollbar-track {
  background: #ffffff;
  border: 1px solid #000000;
}

[data-theme="light"] ::-webkit-scrollbar-thumb {
  background: #000000;
  border: 1px solid #ffffff;
}

[data-theme="light"] ::-webkit-scrollbar-thumb:hover {
  background: #333333;
}

[data-theme="light"] .terminal-content {
  background: #ffffff;
  color: #000000;
  border: 1px solid #000000;
}

[data-theme="light"] .ai-thinking {
  background: #ffffff;
  border: 1px solid #000000;
  box-shadow: none;
}

[data-theme="light"] .voice-btn {
  background: #ffffff;
  border: 1px solid #000000;
  color: #000000;
}

[data-theme="light"] .voice-btn:hover {
  background: #f0f0f0;
}

[data-theme="light"] .voice-btn.recording {
  background: #000000;
  color: #ffffff;
  animation: pulse-light 2s infinite;
}

@keyframes pulse-light {
  0% { box-shadow: 0 0 0 0 rgba(0, 0, 0, 0.7); }
  50% { box-shadow: 0 0 0 10px rgba(0, 0, 0, 0); }
  100% { box-shadow: 0 0 0 0 rgba(0, 0, 0, 0); }
}

/* CodeMirror styles for light theme */
[data-theme="light"] .CodeMirror {
  background: #ffffff !important;
  color: #000000 !important;
  border: 1px solid #000000;
}

[data-theme="light"] .CodeMirror-gutters {
  background: #fafafa !important;
  border-right: 1px solid #000000 !important;
}

[data-theme="light"] .CodeMirror-linenumber {
  color: #666666 !important;
}

[data-theme="light"] .CodeMirror-cursor {
  border-left: 2px solid #000000 !important;
}

[data-theme="light"] .CodeMirror-selected {
  background: #e0e0e0 !important;
}

[data-theme="light"] .CodeMirror-line::selection,
[data-theme="light"] .CodeMirror-line > span::selection,
[data-theme="light"] .CodeMirror-line > span > span::selection {
  background: #d0d0d0 !important;
}

/* Vibrant saturated syntax highlighting for light theme */
[data-theme="light"] .cm-keyword { color: #ff0040 !important; font-weight: bold !important; } /* Bright pink-red */
[data-theme="light"] .cm-string { color: #0080ff !important; } /* Bright blue */
[data-theme="light"] .cm-string-2 { color: #0080ff !important; } /* Bright blue */
[data-theme="light"] .cm-comment { color: #808080 !important; font-style: italic !important; } /* Gray for comments */
[data-theme="light"] .cm-number { color: #ff6600 !important; } /* Bright orange */
[data-theme="light"] .cm-variable { color: #ff6600 !important; } /* Vibrant orange */
[data-theme="light"] .cm-variable-2 { color: #ff9900 !important; } /* Lighter orange */
[data-theme="light"] .cm-variable-3 { color: #9933ff !important; } /* Bright purple */
[data-theme="light"] .cm-def { color: #9933ff !important; font-weight: bold !important; } /* Bright purple */
[data-theme="light"] .cm-property { color: #0099ff !important; } /* Sky blue */
[data-theme="light"] .cm-operator { color: #ff0040 !important; } /* Bright pink-red */
[data-theme="light"] .cm-tag { color: #00cc00 !important; font-weight: bold !important; } /* Bright green */
[data-theme="light"] .cm-tag.cm-bracket { color: #000000 !important; } /* Black for brackets */
[data-theme="light"] .cm-attribute { color: #cc00ff !important; } /* Magenta */
[data-theme="light"] .cm-builtin { color: #0066ff !important; } /* Royal blue */
[data-theme="light"] .cm-atom { color: #0099ff !important; } /* Sky blue */
[data-theme="light"] .cm-meta { color: #ff9900 !important; } /* Bright amber */
[data-theme="light"] .cm-qualifier { color: #9933ff !important; } /* Bright purple */
[data-theme="light"] .cm-type { color: #9933ff !important; } /* Bright purple */
[data-theme="light"] .cm-link { color: #0080ff !important; text-decoration: underline !important; }
[data-theme="light"] .cm-error { color: #ff0000 !important; text-decoration: wavy underline !important; }

/* HTML/XML specific with vibrant colors */
[data-theme="light"] .cm-tag.cm-bracket { color: #000000 !important; }
[data-theme="light"] .cm-tag { color: #00cc00 !important; }
[data-theme="light"] .cm-attribute { color: #cc00ff !important; }

/* JavaScript/TypeScript specific */
[data-theme="light"] .cm-keyword.cm-import { color: #ff0040 !important; }
[data-theme="light"] .cm-keyword.cm-export { color: #ff0040 !important; }
[data-theme="light"] .cm-keyword.cm-function { color: #ff0040 !important; }
[data-theme="light"] .cm-keyword.cm-class { color: #ff0040 !important; }
[data-theme="light"] .cm-keyword.cm-const { color: #ff0040 !important; }
[data-theme="light"] .cm-keyword.cm-let { color: #ff0040 !important; }
[data-theme="light"] .cm-keyword.cm-var { color: #ff0040 !important; }

[data-theme="light"] .editor-actions {
  background: #ffffff;
  border-top: 1px solid #000000;
}

[data-theme="light"] .empty-state {
  color: #666666;
}

[data-theme="light"] .empty-state .btn-primary {
  background: #000000;
  color: #ffffff;
  border: 1px solid #000000;
}

[data-theme="light"] .empty-state .btn-primary:hover {
  background: #333333;
}

[data-theme="light"] .resizer {
  background: #000000;
}

[data-theme="light"] .resizer:hover {
  background: #333333;
}

[data-theme="light"] .context-info {
  background: #ffffff;
  border: 1px solid #000000;
  color: #666666;
}

[data-theme="light"] .typing-indicator {
  background: #ffffff;
  border: 1px solid #000000;
}

[data-theme="light"] .typing-indicator span {
  background: #000000;
}

[data-theme="light"] .model-indicator {
  background: #000000;
  color: #ffffff;
}

[data-theme="light"] .title-bar {
  background: #ffffff;
  border-bottom: 2px solid #000000;
  -webkit-app-region: drag;
}

[data-theme="light"] .title-bar-controls button {
  background: #ffffff;
  border: 1px solid #000000;
  color: #000000;
}

[data-theme="light"] .title-bar-controls button:hover {
  background: #f0f0f0;
}

/* Additional fixes for all dark elements */
[data-theme="light"] .ai-header,
[data-theme="light"] .ai-section {
  background: #ffffff !important;
  color: #000000 !important;
}

[data-theme="light"] .ai-controls {
  background: #ffffff !important;
  color: #000000 !important;
}

[data-theme="light"] .ai-controls label {
  color: #000000 !important;
}

[data-theme="light"] .model-selector,
[data-theme="light"] .completion-model-selector,
[data-theme="light"] .context-selector,
[data-theme="light"] .max-output-selector {
  background: #ffffff !important;
  border: 1px solid #000000 !important;
  color: #000000 !important;
}

/* Tab content area */
[data-theme="light"] .tab-content {
  background: #ffffff !important;
  color: #000000 !important;
}

/* Editor header */
[data-theme="light"] .editor-header {
  background: #ffffff !important;
  border-bottom: 1px solid #000000 !important;
  color: #000000 !important;
}

/* Tab bar */
[data-theme="light"] .tab-bar {
  background: #ffffff !important;
  border-bottom: 1px solid #000000 !important;
}

/* File tabs - more specific targeting */
[data-theme="light"] .editor-tabs .tab,
[data-theme="light"] .file-tab,
[data-theme="light"] .tab-container .tab {
  background: #ffffff !important;
  color: #000000 !important;
  border: 1px solid #000000 !important;
  border-bottom: none !important;
}

[data-theme="light"] .editor-tabs .tab.active,
[data-theme="light"] .file-tab.active,
[data-theme="light"] .tab-container .tab.active {
  background: #ffffff !important;
  color: #000000 !important;
  border: 2px solid #000000 !important;
  border-bottom: none !important;
}

[data-theme="light"] .editor-tabs .tab:hover,
[data-theme="light"] .file-tab:hover,
[data-theme="light"] .tab-container .tab:hover {
  background: #f5f5f5 !important;
  color: #000000 !important;
}

[data-theme="light"] .tab-name,
[data-theme="light"] .tab-label {
  color: #000000 !important;
}

/* Chat message icons - make them black icons */
[data-theme="light"] .ai-avatar,
[data-theme="light"] .user-avatar,
[data-theme="light"] .system-avatar {
  background: #000000 !important;
  color: #ffffff !important;
  border: 1px solid #000000 !important;
  box-shadow: none !important;
}

[data-theme="light"] .user-avatar {
  background: #ffffff !important;
  color: #000000 !important;
  border: 1px solid #000000 !important;
}

[data-theme="light"] .ai-avatar {
  background: #000000 !important;
  color: #ffffff !important;
  border: 1px solid #000000 !important;
}

[data-theme="light"] .system-avatar {
  background: #666666 !important;
  color: #ffffff !important;
  border: 1px solid #000000 !important;
}

/* Window layout buttons at top */
[data-theme="light"] .layout-controls,
[data-theme="light"] .layout-buttons,
[data-theme="light"] .window-controls {
  background: #ffffff !important;
}

[data-theme="light"] .layout-btn,
[data-theme="light"] .layout-button,
[data-theme="light"] .window-control-btn {
  background: #ffffff !important;
  color: #000000 !important;
  border: 1px solid #000000 !important;
  box-shadow: none !important;
}

[data-theme="light"] .layout-btn:hover,
[data-theme="light"] .layout-button:hover,
[data-theme="light"] .window-control-btn:hover {
  background: #f0f0f0 !important;
  color: #000000 !important;
}

[data-theme="light"] .layout-btn.active,
[data-theme="light"] .layout-button.active,
[data-theme="light"] .window-control-btn.active {
  background: #000000 !important;
  color: #ffffff !important;
}

/* Top header/title area */
[data-theme="light"] .app-header,
[data-theme="light"] .title-section,
[data-theme="light"] .header-controls,
[data-theme="light"] .title-bar,
[data-theme="light"] .title-bar-center,
[data-theme="light"] .title-bar-left,
[data-theme="light"] .title-bar-right {
  background: #ffffff !important;
  color: #000000 !important;
}

/* Ensure all remaining dark backgrounds are caught */
[data-theme="light"] .dark-bg,
[data-theme="light"] .bg-dark,
[data-theme="light"] .dark-theme,
[data-theme="light"] .dark {
  background: #ffffff !important;
  color: #000000 !important;
}

/* Override any lingering glass or dark effects */
[data-theme="light"] * {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  scrollbar-color: #000000 #ffffff !important;
}

[data-theme="light"] *[style*="background"] {
  background: #ffffff !important;
}

/* Very specific tab targeting to override any styles */
[data-theme="light"] div[class*="tab"]:not([class*="button"]):not([class*="btn"]) {
  background: #ffffff !important;
  color: #000000 !important;
  border: 1px solid #000000 !important;
}

[data-theme="light"] div[class*="tab"]:not([class*="button"]):not([class*="btn"]).active {
  background: #ffffff !important;
  color: #000000 !important;
  border: 2px solid #000000 !important;
}

/* Layout controls specific */
[data-theme="light"] .layout-controls .layout-btn {
  background: #ffffff !important;
  color: #000000 !important;
  border: 1px solid #000000 !important;
  backdrop-filter: none !important;
}

[data-theme="light"] .layout-controls .layout-btn.active {
  background: #000000 !important;
  color: #ffffff !important;
  border: 1px solid #000000 !important;
}

[data-theme="light"] .layout-controls .layout-btn:hover {
  background: #f0f0f0 !important;
  color: #000000 !important;
}

/* Bottom chat area - comprehensive fix */
[data-theme="light"] .chat-interface,
[data-theme="light"] .chat-section,
[data-theme="light"] .chat-container {
  background: #ffffff !important;
  color: #000000 !important;
}

[data-theme="light"] .chat-input-area,
[data-theme="light"] .input-section,
[data-theme="light"] .chat-footer,
[data-theme="light"] .chat-bottom {
  background: #ffffff !important;
  color: #000000 !important;
  border-color: #000000 !important;
}

/* Context selection area at bottom */
[data-theme="light"] .context-selection,
[data-theme="light"] .code-context,
[data-theme="light"] .selection-info,
[data-theme="light"] .context-indicator {
  background: #ffffff !important;
  color: #666666 !important;
  border: 1px solid #000000 !important;
}

/* Chat input wrapper and send button area */
[data-theme="light"] .send-button-container,
[data-theme="light"] .input-controls,
[data-theme="light"] .chat-actions {
  background: #ffffff !important;
  color: #000000 !important;
}

/* Any remaining chat interface elements */
[data-theme="light"] .chat-interface * {
  background-color: transparent !important;
}

[data-theme="light"] .chat-interface {
  background: #ffffff !important;
}

/* Specific bottom text styling */
[data-theme="light"] .context-help,
[data-theme="light"] .selection-help,
[data-theme="light"] .help-text {
  color: #666666 !important;
  background: #ffffff !important;
}

/* Chat input area - exact targeting */
[data-theme="light"] .chat-input-area {
  background: #ffffff !important;
  color: #000000 !important;
  border-top: 2px solid #000000 !important;
}

[data-theme="light"] .input-container {
  background: #ffffff !important;
  color: #000000 !important;
}

[data-theme="light"] .input-hints {
  background: #ffffff !important;
  color: #666666 !important;
  padding: 8px 12px !important;
}

[data-theme="light"] .hint {
  color: #666666 !important;
  background: transparent !important;
}

[data-theme="light"] .btn-send {
  background: #000000 !important;
  color: #ffffff !important;
  border: 1px solid #000000 !important;
  box-shadow: none !important;
}

[data-theme="light"] .btn-send:hover {
  background: #333333 !important;
  color: #ffffff !important;
  box-shadow: none !important;
}

[data-theme="light"] .btn-send:disabled {
  background: #cccccc !important;
  color: #666666 !important;
  border: 1px solid #999999 !important;
}

/* IDE Container */
.ide-container {
  height: 100vh;
  display: flex;
  flex-direction: column;
  background: transparent;
  backdrop-filter: var(--glass-blur);
}

/* Title Bar - Glass Morphic */
.title-bar {
  background: var(--glass-card);
  backdrop-filter: var(--glass-blur);
  border-bottom: 1px solid var(--glass-border);
  height: 28px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 12px;
  -webkit-app-region: drag;
  user-select: none;
  flex-shrink: 0;
  box-shadow: var(--glass-shadow);
  position: relative;
}

.title-bar::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--accent-gradient);
  opacity: 0.05;
  pointer-events: none;
}

.title-bar-left {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* Additional optimizations */
.title-bar-center {
  display: flex;
  align-items: center;
  -webkit-app-region: no-drag;
  min-width: 120px; /* Ensure enough space for all 5 buttons */
}

/* Side-by-side layout specific styling */
.ide-container[data-layout="side-by-side"] .chat-resize-handle {
  display: none; /* Hide vertical resize handle in side-by-side mode */
}

/* Add horizontal resize handle for side-by-side layout */
.ide-container[data-layout="side-by-side"] .chat-interface::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  height: 100%;
  background: transparent;
  cursor: ew-resize;
  z-index: 100;
}

.ide-container[data-layout="side-by-side"] .chat-interface:hover::before {
  background: rgba(14, 165, 233, 0.2);
}

.layout-controls {
  display: flex;
  gap: 1px;
  background: rgba(22, 27, 34, 0.8);
  border-radius: 3px;
  padding: 1px;
  backdrop-filter: var(--glass-blur-light);
  min-width: 94px; /* 5 buttons × 18px + 4 gaps × 1px + 2px padding */
}

/* Ensure all layout buttons are visible */
.layout-btn {
  background: transparent;
  border: none;
  color: var(--text-muted);
  width: 18px;
  height: 16px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 2px;
  transition: all 0.15s ease;
  font-size: 10px;
  flex-shrink: 0; /* Prevent shrinking */
}

.layout-btn:hover {
  background: rgba(14, 165, 233, 0.15);
  color: var(--accent-blue);
}

.layout-btn.active {
  background: var(--accent-gradient);
  color: white;
  box-shadow: 0 1px 4px rgba(14, 165, 233, 0.3);
}

.layout-btn i {
  width: 10px;
  height: 10px;
  stroke-width: 2.5;
  flex-shrink: 0;
}

.app-logo {
  height: 14px;
  width: auto;
  filter: brightness(1.2);
}

.app-title {
  font-size: 11px;
  color: var(--text-secondary);
  font-weight: 500;
  letter-spacing: 0.02em;
}

.title-bar-right {
  display: flex;
  gap: 1px;
  -webkit-app-region: no-drag;
}

.title-btn {
  background: transparent;
  border: none;
  color: var(--text-muted);
  width: 28px;
  height: 18px;
  font-size: 12px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 2px;
  transition: all 0.15s ease;
  font-weight: 300;
}

.title-btn:hover {
  background: rgba(14, 165, 233, 0.15);
  color: var(--accent-blue);
  backdrop-filter: var(--glass-blur-light);
}

.title-btn.close:hover {
  background: rgba(248, 113, 113, 0.15);
  color: var(--error-color);
}

/* Main IDE Layout */
.ide-layout {
  display: flex;
  flex: 1;
  overflow: hidden;
  height: calc(100vh - 28px - 240px);
  transition: all 0.3s ease;
}

/* Layout States */
.ide-container[data-layout="no-sidebar"] .file-sidebar {
  display: none;
}

.ide-container[data-layout="no-chat"] .chat-interface {
  display: none;
}

.ide-container[data-layout="no-chat"] .ide-layout {
  height: calc(100vh - 28px);
}

/* Fixed Side-by-Side Layout */
.ide-container[data-layout="side-by-side"] {
  flex-direction: column;
  height: 100vh;
  overflow: hidden;
}

.ide-container[data-layout="side-by-side"] .ide-layout {
  height: calc(100vh - 28px);
  flex-direction: row;
  flex: 1;
  overflow: hidden;
}

.ide-container[data-layout="side-by-side"] .file-sidebar {
  display: none;
}

.ide-container[data-layout="side-by-side"] .editor-area {
  flex: 1;
  border-right: 1px solid var(--glass-border);
  height: 100%;
  display: flex;
  flex-direction: column;
}

.ide-container[data-layout="side-by-side"] .chat-interface {
  position: static !important;
  height: calc(100vh - 28px) !important; /* Force full height minus title bar */
  width: 400px;
  min-width: 300px;
  max-width: 50vw;
  border-top: none !important;
  border-left: none !important;
  border-bottom: none !important;
  flex-shrink: 0;
  display: flex !important;
  flex-direction: column !important;
  margin: 0 !important;
  padding: 0 !important;
  box-sizing: border-box !important;
  overflow: hidden;
}

/* Ensure chat header is fixed height */
.ide-container[data-layout="side-by-side"] .chat-header {
  flex-shrink: 0;
  height: 36px;
  margin: 0 !important;
  padding: 6px 12px !important;
  border-bottom: 1px solid var(--glass-border);
}

/* Ensure chat messages area takes remaining space in side-by-side */
.ide-container[data-layout="side-by-side"] .chat-messages {
  flex: 1;
  overflow-y: auto;
  height: auto;
  min-height: 0;
  margin: 0 !important;
  padding: 10px !important;
}

/* Ensure chat input stays at bottom in side-by-side with no gaps */
.ide-container[data-layout="side-by-side"] .chat-input-area {
  flex-shrink: 0;
  margin: 0 !important;
  padding: 10px !important;
  border-top: 1px solid var(--glass-border);
  background: rgba(22, 27, 34, 0.8);
}

/* Remove any conflicting chat interface rules for side-by-side */
.ide-container[data-layout="side-by-side"] .chat-interface {
  transition: none !important;
}

/* Force chat interface to touch bottom edge */
.ide-container[data-layout="side-by-side"] .chat-interface::after {
  content: '';
  height: 0;
  margin: 0;
  padding: 0;
}

.ide-container[data-layout="editor-only"] .file-sidebar,
.ide-container[data-layout="editor-only"] .chat-interface {
  display: none;
}

.ide-container[data-layout="editor-only"] .ide-layout {
  height: calc(100vh - 28px);
}

/* File Sidebar - Glass Morphic */
.file-sidebar {
  width: 240px;
  background: var(--glass-card);
  backdrop-filter: var(--glass-blur);
  border-right: 1px solid var(--glass-border);
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
  box-shadow: var(--glass-shadow);
  position: relative;
  transition: all 0.3s ease;
}

.file-sidebar::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--accent-gradient);
  opacity: 0.02;
  pointer-events: none;
}

.sidebar-header {
  padding: 8px 12px;
  border-bottom: 1px solid var(--glass-border);
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: rgba(22, 27, 34, 0.8);
  backdrop-filter: var(--glass-blur-light);
  min-height: 32px;
}

.sidebar-header h3 {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-primary);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.explorer-buttons {
  display: flex;
  gap: 2px;
}

.sidebar-header button {
  background: transparent;
  border: none;
  color: var(--text-muted);
  cursor: pointer;
  padding: 4px;
  border-radius: 3px;
  font-size: 12px;
  transition: all 0.15s ease;
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sidebar-header button:hover {
  background: rgba(14, 165, 233, 0.15);
  color: var(--accent-blue);
  backdrop-filter: var(--glass-blur-light);
}

.btn-parent-folder {
  background: rgba(14, 165, 233, 0.08) !important;
  color: var(--accent-blue) !important;
}

.btn-parent-folder:hover {
  background: rgba(14, 165, 233, 0.25) !important;
  transform: translateY(-1px);
}

.button-separator {
  width: 1px;
  height: 16px;
  background: var(--glass-border);
  margin: 0 4px;
  opacity: 0.5;
}

.folder-path {
  padding: 6px 12px;
  font-size: 12px;
  background: rgba(22, 27, 34, 0.5);
  border-bottom: 1px solid var(--glass-border);
  white-space: nowrap;
  overflow-x: auto;
  overflow-y: hidden;
  display: flex;
  align-items: center;
  gap: 2px;
  min-height: 28px;
  scrollbar-width: thin;
  scrollbar-color: rgba(255, 255, 255, 0.1) transparent;
}

.folder-path::-webkit-scrollbar {
  height: 4px;
}

.folder-path::-webkit-scrollbar-track {
  background: transparent;
}

.folder-path::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 2px;
}

.folder-path::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.2);
}

.folder-path:empty {
  display: none;
}

.breadcrumb-item {
  display: inline-flex;
  align-items: center;
  gap: 2px;
}

.breadcrumb-link {
  background: transparent;
  border: none;
  color: var(--text-muted);
  font-family: 'SF Mono', Monaco, monospace;
  font-size: 12px;
  padding: 2px 6px;
  cursor: pointer;
  border-radius: 3px;
  transition: all 0.15s ease;
  white-space: nowrap;
  position: relative;
}

.breadcrumb-link:hover {
  background: rgba(14, 165, 233, 0.1);
  color: var(--accent-blue);
}

.breadcrumb-link:active {
  background: rgba(14, 165, 233, 0.2);
}

.breadcrumb-separator {
  color: var(--text-muted);
  opacity: 0.5;
  font-size: 10px;
  user-select: none;
  margin: 0 2px;
}

.file-tree {
  flex: 1;
  overflow-y: auto;
  padding: 6px;
}

.empty-state {
  text-align: center;
  padding: 20px;
  color: var(--text-muted);
}

.empty-state p {
  margin-bottom: 12px;
  font-size: 11px;
  font-weight: 400;
}

/* Editor Area */
.editor-area {
  flex: 1;
  display: flex;
  flex-direction: column;
  position: relative;
  overflow: hidden;
  background: var(--glass-card);
  backdrop-filter: var(--glass-blur);
}

/* File Tabs Bar - Glass Morphic */
.file-tabs-bar {
  background: rgba(22, 27, 34, 0.9);
  backdrop-filter: var(--glass-blur);
  border-bottom: 1px solid var(--glass-border);
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 8px;
  flex-shrink: 0;
  position: relative;
}

.file-tabs-bar::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--accent-gradient);
  opacity: 0.03;
  pointer-events: none;
}

.tabs-container {
  display: flex;
  gap: 1px;
  overflow-x: auto;
  flex: 1;
}

.file-tab {
  background: rgba(22, 27, 34, 0.95);
  border: 1px solid var(--glass-border);
  border-bottom: none;
  padding: 4px 10px;
  font-size: 11px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
  white-space: nowrap;
  border-radius: 4px 4px 0 0;
  min-width: 0;
  backdrop-filter: var(--glass-blur-light);
  transition: all 0.15s ease;
  font-weight: 400;
  user-select: none; /* Prevent text selection */
  outline: none; /* Remove focus outline */
  position: relative;
  z-index: 1; /* Ensure tabs are above other elements */
}

.file-tab:hover {
  background: rgba(30, 35, 42, 0.95);
  border-color: rgba(14, 165, 233, 0.3);
}

.file-tab.active {
  background: rgba(13, 17, 23, 0.95);
  border-bottom: 2px solid var(--accent-blue);
  color: var(--text-primary);
  box-shadow: var(--glass-shadow);
  z-index: 2; /* Active tab above others */
}

.file-tab:focus {
  border-color: var(--accent-blue);
  box-shadow: 0 0 0 1px rgba(14, 165, 233, 0.3);
}

.file-tab-name {
  overflow: hidden;
  text-overflow: ellipsis;
  font-weight: 500;
  pointer-events: none; /* Prevent interference with tab clicking */
}

.file-tab-close {
  color: var(--text-muted);
  font-size: 14px;
  padding: 0 2px;
  border-radius: 2px;
  transition: all 0.15s ease;
  position: relative;
  z-index: 3; /* Close button above tab */
}

.file-tab-close:hover {
  background: rgba(248, 113, 113, 0.15);
  color: var(--error-color);
}

.tabs-actions {
  display: flex;
  gap: 1px;
}

.tabs-actions button, .btn-tab-action {
  background: transparent;
  border: none;
  color: var(--text-muted);
  cursor: pointer;
  padding: 4px 6px;
  border-radius: 3px;
  font-size: 11px;
  transition: all 0.15s ease;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.tabs-actions button:hover, .btn-tab-action:hover {
  background: rgba(14, 165, 233, 0.15);
  color: var(--accent-blue);
  backdrop-filter: var(--glass-blur-light);
}

/* Editor Container */
.editor-container {
  flex: 1;
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  background: var(--bg-primary);
}

/* CodeMirror Styles - Glass Morphic */
.CodeMirror {
  height: 100% !important;
  width: 100% !important;
  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Source Code Pro', monospace !important;
  font-size: 13px !important;
  line-height: 1.5 !important;
  background: var(--bg-primary) !important;
  color: var(--text-primary) !important;
  font-weight: 400 !important;
  letter-spacing: 0.01em !important;
}

.CodeMirror-scroll {
  height: 100% !important;
}

.CodeMirror-gutters {
  border-right: 1px solid var(--glass-border) !important;
  background: rgba(22, 27, 34, 0.8) !important;
  backdrop-filter: var(--glass-blur-light) !important;
}

.CodeMirror-linenumber {
  color: var(--text-muted) !important;
  font-weight: 400 !important;
  font-size: 11px !important;
}

.CodeMirror-code {
  color: var(--text-primary) !important;
}

.CodeMirror-lines {
  padding: 8px 0 !important;
}

.CodeMirror-cursor {
  border-left: 1px solid var(--accent-blue) !important;
}

.CodeMirror-activeline-background {
  background: rgba(14, 165, 233, 0.05) !important;
}

.CodeMirror-selected {
  background: rgba(14, 165, 233, 0.15) !important;
}

.CodeMirror-focused .CodeMirror-selected {
  background: rgba(14, 165, 233, 0.2) !important;
}

/* Enhanced Syntax Highlighting */
.cm-keyword { color: #ff7b72 !important; font-weight: 500 !important; }
.cm-string { color: #a5d6ff !important; }
.cm-comment { color: #8b949e !important; font-style: italic !important; }
.cm-number { color: #79c0ff !important; }
.cm-atom { color: #ff7b72 !important; }
.cm-def { color: #fbbf24 !important; font-weight: 500 !important; }
.cm-variable { color: #f0f6fc !important; }
.cm-variable-2 { color: #79c0ff !important; }
.cm-variable-3 { color: #79c0ff !important; }
.cm-property { color: #79c0ff !important; }
.cm-operator { color: #ff7b72 !important; }
.cm-bracket { color: #f0f6fc !important; }
.cm-tag { color: #7ee787 !important; }
.cm-attribute { color: #79c0ff !important; }
.cm-qualifier { color: #fbbf24 !important; }
.cm-type { color: #10b981 !important; }
.cm-builtin { color: #ff7b72 !important; }
.cm-meta { color: #0ea5e9 !important; }
.cm-header { color: #ff7b72 !important; }
.cm-link { color: #58a6ff !important; }
.cm-error { color: #f87171 !important; background: rgba(248, 113, 113, 0.15) !important; }

/* Terminal Panel - Glass Morphic */
.terminal-panel {
  height: 200px;
  background: var(--glass-card);
  backdrop-filter: var(--glass-blur);
  border-top: 1px solid var(--glass-border);
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
  position: relative;
  min-height: 32px; /* Allow minimization to header only */
  max-height: 60vh;
  box-shadow: var(--glass-shadow);
  transition: height 0.2s ease;
  will-change: height;
}

.terminal-panel::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, var(--accent-blue), var(--accent-green));
  opacity: 0.02;
  pointer-events: none;
}

/* Terminal Resize Handle */
.terminal-resize-handle {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  cursor: ns-resize;
  z-index: 10;
  background: linear-gradient(to bottom, transparent, rgba(14, 165, 233, 0.1));
}

.terminal-resize-handle:hover {
  background: linear-gradient(to bottom, transparent, rgba(14, 165, 233, 0.2));
}

.terminal-resize-handle .resize-grip {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 40px;
  height: 2px;
  background: var(--accent-blue);
  border-radius: 1px;
  opacity: 0.3;
}

.terminal-resize-handle:hover .resize-grip {
  opacity: 0.6;
}

/* Terminal Header */
.terminal-header {
  background: rgba(22, 27, 34, 0.95);
  border-bottom: 1px solid var(--glass-border);
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 12px;
  flex-shrink: 0;
  backdrop-filter: var(--glass-blur);
  cursor: pointer;
  transition: background-color 0.15s ease;
}

.terminal-header:hover {
  background: rgba(30, 35, 42, 0.95);
}

.terminal-title {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--text-primary);
  font-size: 12px;
  font-weight: 500;
}

.terminal-title i {
  width: 14px;
  height: 14px;
  color: var(--accent-blue);
}

.terminal-controls {
  display: flex;
  gap: 2px;
}

.btn-terminal-action {
  background: transparent;
  border: none;
  color: var(--text-muted);
  cursor: pointer;
  padding: 4px 6px;
  border-radius: 3px;
  font-size: 11px;
  transition: all 0.15s ease;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.btn-terminal-action:hover {
  background: rgba(14, 165, 233, 0.15);
  color: var(--accent-blue);
}

.btn-terminal-action i {
  width: 12px;
  height: 12px;
}

/* Terminal Content */
.terminal-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.terminal-output {
  flex: 1;
  overflow-y: auto;
  padding: 8px 12px;
  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Source Code Pro', monospace;
  font-size: 12px;
  line-height: 1.4;
  background: var(--bg-primary);
  color: var(--text-primary);
}

.terminal-output::-webkit-scrollbar {
  width: 8px;
}

.terminal-output::-webkit-scrollbar-track {
  background: var(--bg-primary);
}

.terminal-output::-webkit-scrollbar-thumb {
  background: var(--border-color);
  border-radius: 4px;
}

.terminal-output::-webkit-scrollbar-thumb:hover {
  background: var(--text-muted);
}

.terminal-line {
  margin: 1px 0;
  word-wrap: break-word;
  white-space: pre-wrap;
}

.terminal-line.terminal-stdout {
  color: var(--text-primary);
}

.terminal-line.terminal-stderr {
  color: var(--error-color);
}

.terminal-line.terminal-welcome {
  color: var(--text-secondary);
}

.terminal-timestamp {
  color: var(--text-muted);
  font-size: 10px;
  margin-right: 8px;
}

/* Terminal Input */
.terminal-input-area {
  display: flex;
  align-items: center;
  padding: 8px 12px;
  background: rgba(22, 27, 34, 0.8);
  border-top: 1px solid var(--glass-border);
  gap: 8px;
}

.terminal-prompt {
  color: var(--accent-blue);
  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Source Code Pro', monospace;
  font-size: 12px;
  font-weight: bold;
}

.terminal-input {
  flex: 1;
  background: transparent;
  border: none;
  color: var(--text-primary);
  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Source Code Pro', monospace;
  font-size: 12px;
  outline: none;
  padding: 4px 0;
}

.terminal-input::placeholder {
  color: var(--text-muted);
}

/* File Context Menu */
.file-context-menu {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

.context-menu-item {
  padding: 8px 12px;
  cursor: pointer;
  color: var(--text-primary);
  font-size: 13px;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: background-color 0.15s ease;
}

.context-menu-item:hover {
  background: rgba(14, 165, 233, 0.15);
  color: var(--accent-blue);
}

.context-menu-item .menu-icon {
  width: 16px;
  text-align: center;
  font-size: 14px;
}

.context-menu-separator {
  height: 1px;
  background: var(--border-color);
  margin: 4px 0;
}

/* Terminal Toggle Button in Tabs */
.btn-tab-action[title="Toggle Terminal"] {
  position: relative;
}

.btn-tab-action[title="Toggle Terminal"]:after {
  content: '';
  position: absolute;
  bottom: 1px;
  left: 50%;
  transform: translateX(-50%);
  width: 4px;
  height: 2px;
  background: var(--accent-blue);
  border-radius: 1px;
  opacity: 0;
  transition: opacity 0.15s ease;
}

.btn-tab-action[title="Toggle Terminal"].active:after {
  opacity: 1;
}

/* Chat Interface - Glass Morphic */
.chat-interface {
  height: 240px;
  background: var(--glass-card);
  backdrop-filter: var(--glass-blur);
  border-top: 1px solid var(--glass-border);
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
  position: relative;
  min-height: 140px;
  max-height: 80vh;
  box-shadow: var(--glass-shadow);
  transition: none; /* Remove transition for resize performance */
  will-change: height; /* Optimize for height changes */
}

.chat-interface::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--accent-gradient);
  opacity: 0.02;
  pointer-events: none;
}

/* Chat Resize Handle */
.chat-resize-handle {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 6px;
  background: transparent;
  cursor: ns-resize;
  z-index: 100;
  display: flex;
  align-items: center;
  justify-content: center;
}

.chat-resize-handle:hover {
  background: rgba(14, 165, 233, 0.1);
}

.resize-grip {
  width: 40px;
  height: 2px;
  background: var(--glass-border);
  border-radius: 1px;
  transition: all 0.15s ease;
}

.chat-resize-handle:hover .resize-grip {
  background: var(--accent-blue);
  height: 3px;
}

.chat-header {
  background: rgba(22, 27, 34, 0.9);
  backdrop-filter: var(--glass-blur);
  border-bottom: 1px solid var(--glass-border);
  padding: 6px 12px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 36px;
  flex-shrink: 0;
  gap: 10px;
}

.chat-title {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  font-weight: 600;
  color: var(--text-primary);
  letter-spacing: 0.02em;
}

.chat-icon {
  font-size: 12px;
}

.chat-controls {
  display: flex;
  gap: 2px;
}

.btn-chat-action {
  background: transparent;
  border: none;
  color: var(--text-muted);
  cursor: pointer;
  padding: 4px 6px;
  border-radius: 3px;
  font-size: 11px;
  transition: all 0.15s ease;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.btn-chat-action:hover {
  background: rgba(14, 165, 233, 0.15);
  color: var(--accent-blue);
  backdrop-filter: var(--glass-blur-light);
}

.auto-replace-toggle.active {
  background: rgba(14, 165, 233, 0.2);
  color: var(--accent-blue);
  border: 1px solid rgba(14, 165, 233, 0.3);
}

.chat-model-selector {
  display: flex;
  align-items: center;
  gap: 6px;
  flex: 1;
  justify-content: center;
}

.chat-model-selector label {
  color: var(--text-muted);
  font-size: 11px;
  white-space: nowrap;
  font-weight: 500;
}

.model-dropdown {
  background: rgba(13, 17, 23, 0.95);
  backdrop-filter: var(--glass-blur-light);
  border: 1px solid var(--glass-border);
  border-radius: 4px;
  color: var(--text-primary);
  padding: 3px 8px;
  font-size: 11px;
  min-width: 120px;
  max-width: 180px;
  font-weight: 400;
}

.model-dropdown:focus {
  outline: none;
  border-color: var(--accent-blue);
  box-shadow: 0 0 0 2px rgba(14, 165, 233, 0.2);
}

/* Token Controls */
.chat-token-controls {
  display: flex;
  align-items: center;
  gap: 8px;
  flex: 1;
  justify-content: center;
}

.token-control {
  display: flex;
  align-items: center;
  gap: 4px;
}

.token-control label {
  color: var(--text-muted);
  font-size: 10px;
  white-space: nowrap;
  font-weight: 500;
}

.token-input {
  background: rgba(13, 17, 23, 0.95);
  backdrop-filter: var(--glass-blur-light);
  border: 1px solid var(--glass-border);
  border-radius: 4px;
  color: var(--text-primary);
  padding: 3px 6px;
  font-size: 10px;
  width: 60px;
  font-weight: 400;
  text-align: center;
}

.token-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  box-shadow: 0 0 0 2px rgba(14, 165, 233, 0.2);
}

/* Chat Messages */
.chat-messages {
  flex: 1;
  overflow-y: auto;
  padding: 10px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  scroll-behavior: smooth;
  contain: layout style paint;
}

.welcome-message,
.chat-message {
  display: flex;
  gap: 8px;
  align-items: flex-start;
}

.ai-avatar {
  background: rgba(22, 27, 34, 0.9);
  border: 1px solid var(--accent-blue);
  border-radius: 6px;
  width: 22px;
  height: 22px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  flex-shrink: 0;
  color: var(--accent-blue);
}

.user-avatar {
  background: rgba(22, 27, 34, 0.9);
  border: 1px solid var(--accent-green);
  border-radius: 6px;
  width: 22px;
  height: 22px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  flex-shrink: 0;
  color: var(--accent-green);
}

.system-avatar {
  background: rgba(22, 27, 34, 0.9);
  border: 1px solid var(--accent-yellow);
  border-radius: 6px;
  width: 22px;
  height: 22px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  flex-shrink: 0;
  color: var(--accent-yellow);
}

.message-content {
  background: rgba(22, 27, 34, 0.95);
  backdrop-filter: var(--glass-blur-light);
  border: 1px solid var(--glass-border);
  border-radius: 8px;
  padding: 8px 12px;
  max-width: 80%;
  font-size: 12px;
  line-height: 1.4;
  box-shadow: var(--glass-shadow);
  font-weight: 400;
}

.message-content p {
  margin: 0;
}

.message-content code {
  background: rgba(13, 17, 23, 0.8);
  padding: 2px 4px;
  border-radius: 3px;
  font-family: 'SF Mono', 'Monaco', monospace;
  font-size: 11px;
  border: 1px solid var(--glass-border);
}

.message-content pre {
  background: rgba(13, 17, 23, 0.9);
  padding: 8px;
  border-radius: 6px;
  overflow-x: auto;
  margin: 4px 0;
  border: 1px solid var(--glass-border);
  backdrop-filter: var(--glass-blur-light);
}

/* Code Chunks Area */
.chat-code-chunks {
  background: rgba(22, 27, 34, 0.9);
  backdrop-filter: var(--glass-blur);
  border-top: 1px solid var(--glass-border);
  padding: 6px 12px;
  margin: 0;
  font-size: 11px;
}

.chunks-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 6px;
}

.chunks-label {
  color: var(--text-muted);
  font-weight: 600;
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.chunks-clear {
  background: transparent;
  border: 1px solid var(--glass-border);
  color: var(--text-muted);
  padding: 2px 6px;
  border-radius: 3px;
  font-size: 9px;
  cursor: pointer;
  transition: all 0.15s ease;
  font-weight: 500;
}

.chunks-clear:hover {
  background: rgba(14, 165, 233, 0.15);
  color: var(--accent-blue);
  border-color: var(--accent-blue);
}

.chunks-container {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
}

/* Code Chunk Cards - Glass Morphic */
.code-chunk-card {
  display: flex;
  align-items: center;
  background: rgba(13, 17, 23, 0.95);
  backdrop-filter: var(--glass-blur-light);
  border: 1px solid var(--glass-border);
  border-radius: 6px;
  padding: 4px 8px;
  font-size: 10px;
  max-width: 280px;
  transition: all 0.15s ease;
  box-shadow: var(--glass-shadow);
}

.code-chunk-card:hover {
  background: rgba(30, 35, 42, 0.95);
  border-color: rgba(14, 165, 233, 0.3);
  transform: translateY(-1px);
}

.chunk-card-content {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 1px;
}

.chunk-card-info {
  display: flex;
  align-items: center;
  gap: 4px;
}

.chunk-card-file {
  color: var(--accent-blue);
  font-weight: 600;
  font-size: 10px;
}

.chunk-card-lines {
  color: var(--text-muted);
  font-size: 9px;
  background: rgba(22, 27, 34, 0.8);
  padding: 1px 3px;
  border-radius: 2px;
  font-weight: 500;
}

.chunk-card-preview {
  color: var(--text-muted);
  font-size: 9px;
  font-family: 'SF Mono', 'Monaco', monospace;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 180px;
}

.chunk-card-remove {
  background: rgba(22, 27, 34, 0.8);
  border: none;
  color: var(--text-muted);
  border-radius: 3px;
  width: 14px;
  height: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 10px;
  line-height: 1;
  margin-left: 4px;
  transition: all 0.15s ease;
  flex-shrink: 0;
}

.chunk-card-remove:hover {
  background: rgba(248, 113, 113, 0.2);
  color: var(--error-color);
}

/* Chat Input Area */
.chat-input-area {
  border-top: 1px solid var(--glass-border);
  padding: 10px;
  flex-shrink: 0;
  background: rgba(22, 27, 34, 0.8);
  backdrop-filter: var(--glass-blur);
}

.input-container {
  display: flex;
  gap: 6px;
  align-items: flex-end;
}

#chat-input {
  flex: 1;
  background: rgba(13, 17, 23, 0.95);
  backdrop-filter: var(--glass-blur-light);
  border: 1px solid var(--glass-border);
  border-radius: 6px;
  padding: 6px 10px;
  color: var(--text-primary);
  font-size: 12px;
  font-family: inherit;
  resize: none;
  max-height: 80px;
  min-height: 28px;
  font-weight: 400;
  transition: all 0.15s ease;
}

#chat-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  box-shadow: 0 0 0 2px rgba(14, 165, 233, 0.2);
}

/* Enhanced Send Button */
.btn-send {
  background: #000000;
  border: 1px solid var(--glass-border);
  border-radius: 6px;
  padding: 6px;
  color: var(--accent-blue);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 28px;
  transition: all 0.15s ease;
  font-size: 14px;
}

.btn-send:hover {
  background: #111111;
  color: var(--accent-magenta);
  border-color: var(--accent-blue);
  transform: translateY(-1px);
}

.btn-send:active {
  transform: translateY(0);
  background: #222222;
}

.btn-send:disabled {
  background: rgba(22, 27, 34, 0.8);
  color: var(--text-muted);
  cursor: not-allowed;
  transform: none;
  border-color: var(--glass-border);
}

.input-hints {
  margin-top: 3px;
  font-size: 10px;
  color: var(--text-muted);
  font-weight: 400;
  display: flex;
  align-items: center;
  gap: 4px;
}

/* Buttons - Glass Morphic */
.btn-primary {
  background: var(--accent-gradient);
  color: white;
  border: none;
  padding: 6px 12px;
  border-radius: 6px;
  font-size: 11px;
  cursor: pointer;
  font-weight: 500;
  transition: all 0.15s ease;
  box-shadow: var(--glass-shadow);
}

.btn-primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 12px 48px rgba(14, 165, 233, 0.3);
}

.btn-secondary {
  background: rgba(22, 27, 34, 0.95);
  backdrop-filter: var(--glass-blur-light);
  color: var(--text-primary);
  border: 1px solid var(--glass-border);
  padding: 6px 12px;
  border-radius: 6px;
  font-size: 11px;
  cursor: pointer;
  font-weight: 500;
  transition: all 0.15s ease;
  box-shadow: var(--glass-shadow);
}

.btn-secondary:hover {
  background: rgba(30, 35, 42, 0.95);
  border-color: var(--accent-blue);
  color: var(--accent-blue);
}

.btn-setup {
  background: transparent;
  border: none;
  color: var(--text-muted);
  font-size: 14px;
  padding: 6px;
  cursor: pointer;
  border-radius: 4px;
  transition: all 0.15s ease;
}

.btn-setup:hover {
  background: rgba(14, 165, 233, 0.15);
  color: var(--accent-blue);
}

/* Settings Modal - Glass Morphic */
.settings-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(13, 17, 23, 0.8);
  backdrop-filter: var(--glass-blur);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.settings-content {
  background: rgba(22, 27, 34, 0.95);
  backdrop-filter: var(--glass-blur);
  border: 1px solid var(--glass-border);
  border-radius: 12px;
  width: 400px;
  max-width: 90vw;
  max-height: 80vh;
  overflow-y: auto;
  box-shadow: var(--glass-shadow-lg);
}

.settings-header {
  padding: 16px 20px;
  border-bottom: 1px solid var(--glass-border);
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: rgba(13, 17, 23, 0.5);
}

.settings-header h2 {
  margin: 0;
  color: var(--text-primary);
  font-size: 16px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
}

.settings-close {
  background: transparent;
  border: none;
  color: var(--text-muted);
  font-size: 18px;
  cursor: pointer;
  padding: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
  transition: all 0.15s ease;
}

.settings-close:hover {
  background: rgba(248, 113, 113, 0.15);
  color: var(--error-color);
}

.settings-body {
  padding: 20px;
}

.settings-group {
  margin-bottom: 16px;
}

.settings-group label {
  display: block;
  color: var(--text-primary);
  margin-bottom: 6px;
  font-size: 13px;
  font-weight: 500;
}

.settings-group select {
  width: 100%;
  padding: 6px 8px;
  background: rgba(13, 17, 23, 0.95);
  backdrop-filter: var(--glass-blur-light);
  border: 1px solid var(--glass-border);
  border-radius: 6px;
  color: var(--text-primary);
  font-size: 12px;
  transition: all 0.15s ease;
}

.settings-group select:focus {
  outline: none;
  border-color: var(--accent-blue);
  box-shadow: 0 0 0 2px rgba(14, 165, 233, 0.2);
}

/* Scrollbars - Glass Morphic */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: rgba(22, 27, 34, 0.5);
}

::-webkit-scrollbar-thumb {
  background: rgba(14, 165, 233, 0.4);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(14, 165, 233, 0.6);
}

/* Welcome Screen - ASCII Art */
.editor-welcome {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  background: var(--bg-primary);
  position: relative;
  overflow: hidden;
}

.logo-welcome {
  position: relative;
  z-index: 1;
  user-select: none;
  animation: retro-glow 3s ease-in-out infinite alternate;
}

.welcome-logo {
  max-width: min(60vw, 400px);
  max-height: min(40vh, 300px);
  width: auto;
  height: auto;
  object-fit: contain;
  filter: drop-shadow(0 0 20px rgba(14, 165, 233, 0.3));
  animation: pulse-glow 2s ease-in-out infinite alternate;
}

/* Background pattern */
.editor-welcome::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    radial-gradient(circle at 20% 20%, rgba(0, 212, 255, 0.03) 0%, transparent 50%),
    radial-gradient(circle at 80% 80%, rgba(102, 0, 255, 0.03) 0%, transparent 50%),
    radial-gradient(circle at 50% 50%, rgba(255, 0, 153, 0.02) 0%, transparent 50%);
  z-index: 0;
}

/* Animations */
@keyframes retro-rainbow {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

@keyframes retro-glow {
  0% {
    filter: drop-shadow(0 0 10px rgba(0, 212, 255, 0.3))
            drop-shadow(0 0 20px rgba(0, 153, 255, 0.2))
            drop-shadow(0 0 30px rgba(102, 0, 255, 0.1));
  }
  100% {
    filter: drop-shadow(0 0 15px rgba(0, 212, 255, 0.5))
            drop-shadow(0 0 25px rgba(0, 153, 255, 0.3))
            drop-shadow(0 0 35px rgba(102, 0, 255, 0.2));
  }
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .welcome-logo {
    max-width: min(70vw, 300px);
    max-height: min(35vh, 250px);
  }
}

@media (max-width: 480px) {
  .welcome-logo {
    max-width: min(80vw, 250px);
    max-height: min(30vh, 200px);
  }
}

/* File Tree Items */
.file-tree-item {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 3px 8px;
  cursor: pointer;
  border-radius: 4px;
  font-size: 11px;
  color: var(--text-primary);
  user-select: none;
  transition: all 0.15s ease;
  font-weight: 400;
}

.file-tree-item:hover {
  background: rgba(14, 165, 233, 0.1);
  color: var(--accent-blue);
}

.file-icon {
  font-size: 12px;
  flex-shrink: 0;
}

.file-name {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Notifications - Glass Morphic */
.notification {
  position: fixed;
  top: 60px;
  right: 20px;
  background: rgba(22, 27, 34, 0.95);
  backdrop-filter: var(--glass-blur);
  border: 1px solid var(--glass-border);
  border-radius: 8px;
  padding: 12px 16px;
  color: var(--text-primary);
  font-size: 12px;
  box-shadow: var(--glass-shadow-lg);
  z-index: 3000;
  transform: translateX(100%);
  transition: transform 0.3s ease;
  max-width: 300px;
  word-wrap: break-word;
  font-weight: 400;
}

.notification.show {
  transform: translateX(0);
}

.notification.success {
  border-left: 3px solid var(--success-color);
}

.notification.error {
  border-left: 3px solid var(--error-color);
}

.notification.warning {
  border-left: 3px solid var(--warning-color);
}

/* Enhanced Performance */
.ide-container * {
  backface-visibility: hidden;
}

.CodeMirror {
  contain: layout style paint;
}

/* Performance Mode - Disable expensive effects while keeping essential animations */
.performance-mode * {
  backdrop-filter: none !important;
  box-shadow: none !important;
  filter: none !important;
}

/* Remove most transitions but keep button/hover feedback */
.performance-mode *:not(button):not(.btn-primary):not(.btn-secondary):not(.title-btn):not(.layout-btn) {
  transition: none !important;
}

/* Keep essential loading animations */
.performance-mode .loading-spinner,
.performance-mode .progress-fill,
.performance-mode .progress-fill::after {
  animation: initial !important;
}

/* Disable expensive animations but keep completion feedback */
.performance-mode *:not(.loading-spinner):not(.progress-fill):not(.progress-fill::after):not(.completion-content) {
  animation: none !important;
}

/* Disable transforms that cause repaints except for essential feedback */
.performance-mode *:not(button):not(.btn-primary):not(.btn-secondary):not(.title-btn):not(.layout-btn) {
  transform: none !important;
}

.performance-mode .CodeMirror {
  text-shadow: none !important;
}

/* Replace glass backgrounds with solid colors */
.performance-mode .glass-card,
.performance-mode .glass-overlay,
.performance-mode .title-bar,
.performance-mode .file-sidebar,
.performance-mode .editor-area,
.performance-mode .terminal-panel,
.performance-mode .chat-interface {
  background: var(--bg-secondary) !important;
  border: 1px solid var(--border-color) !important;
}

.performance-mode .file-tabs-bar,
.performance-mode .sidebar-header,
.performance-mode .terminal-header,
.performance-mode .chat-header {
  background: var(--bg-tertiary) !important;
}

.performance-mode .message-content,
.performance-mode .code-chunk-card,
.performance-mode .todo-item {
  background: var(--bg-tertiary) !important;
  border: 1px solid var(--border-color) !important;
}

.performance-mode .btn-primary {
  background: var(--accent-blue) !important;
}

.performance-mode .btn-secondary {
  background: var(--bg-tertiary) !important;
}

/* Performance mode indicator */
.performance-mode #performance-toggle-btn {
  background: rgba(251, 191, 36, 0.2) !important;
  color: var(--accent-yellow) !important;
}

/* Responsive Design */
@media (max-width: 1200px) {
  .file-sidebar {
    width: 200px;
  }
}

@media (max-width: 800px) {
  .chat-interface {
    height: 200px;
  }
  
  .ide-layout {
    height: calc(100vh - 28px - 200px);
  }
}

/* Additional glass morphism effects for various components */
.find-replace-panel, .custom-prompt-modal .custom-prompt-content {
  background: rgba(22, 27, 34, 0.95) !important;
  backdrop-filter: var(--glass-blur) !important;
  border: 1px solid var(--glass-border) !important;
  box-shadow: var(--glass-shadow-lg) !important;
}

/* Linting styles with glass morphism */
.CodeMirror-lint-tooltip {
  background: rgba(22, 27, 34, 0.95) !important;
  backdrop-filter: var(--glass-blur) !important;
  border: 1px solid var(--glass-border) !important;
  box-shadow: var(--glass-shadow) !important;
}

/* CLI History Panel - Glass Morphic */
.history-cli-panel {
  background: rgba(6, 8, 12, 0.95) !important;
  backdrop-filter: var(--glass-blur) !important;
  border: 1px solid var(--glass-border) !important;
  box-shadow: var(--glass-shadow-lg) !important;
}

.cli-header {
  background: rgba(13, 17, 23, 0.9) !important;
  backdrop-filter: var(--glass-blur-light) !important;
}

/* Smooth animations */
@keyframes fadeIn {
  from { 
    opacity: 0; 
    transform: translateY(10px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

/* Animation already included in main ai-selection-overlay definition above */

/* Enhanced focus states */
input:focus, textarea:focus, select:focus {
  outline: none !important;
  border-color: var(--accent-blue) !important;
  box-shadow: 0 0 0 2px rgba(14, 165, 233, 0.2) !important;
}

/* Glass morphism for all interactive elements */
button:not(.title-btn):not(.btn-chat-action):not(.tabs-actions button):not(.layout-btn) {
  backdrop-filter: var(--glass-blur-light);
  transition: all 0.15s ease;
}

button:not(.title-btn):not(.btn-chat-action):not(.tabs-actions button):not(.layout-btn):hover {
  transform: translateY(-1px);
}

/* Icon styling */
i[data-lucide] {
  width: 1em;
  height: 1em;
  stroke-width: 2;
} 

/* Todo List Component - Glass Morphic */
.todo-list-container {
  background: var(--glass-card);
  backdrop-filter: var(--glass-blur);
  border: 1px solid var(--glass-border);
  border-bottom: none;
  margin: 0;
  padding: 0;
  position: relative;
  min-height: 120px;
  max-height: 300px;
  box-shadow: var(--glass-shadow);
  transition: all 0.3s ease;
  overflow: hidden;
}

.todo-list-container::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--accent-gradient);
  opacity: 0.03;
  pointer-events: none;
}

.todo-header {
  background: rgba(22, 27, 34, 0.95);
  backdrop-filter: var(--glass-blur);
  border-bottom: 1px solid var(--glass-border);
  padding: 8px 12px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 32px;
  flex-shrink: 0;
}

.todo-title {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  font-weight: 600;
  color: var(--text-primary);
  letter-spacing: 0.02em;
}

.todo-title i {
  width: 12px;
  height: 12px;
  color: var(--accent-blue);
}

.todo-controls {
  display: flex;
  gap: 4px;
}

.todo-clear-btn {
  background: transparent;
  border: none;
  color: var(--text-muted);
  cursor: pointer;
  padding: 2px;
  border-radius: 3px;
  transition: all 0.15s ease;
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.todo-clear-btn:hover {
  background: rgba(248, 113, 113, 0.15);
  color: var(--error-color);
}

.todo-clear-btn i {
  width: 12px;
  height: 12px;
}

.todo-list {
  flex: 1;
  overflow-y: auto;
  padding: 8px 12px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  max-height: 200px;
}

.todo-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 8px;
  border-radius: 6px;
  transition: all 0.15s ease;
  font-size: 11px;
  background: rgba(22, 27, 34, 0.6);
  border: 1px solid transparent;
}

.todo-item-pending {
  border-color: var(--glass-border);
  opacity: 0.7;
}

.todo-item-in_progress {
  background: rgba(14, 165, 233, 0.1);
  border-color: rgba(14, 165, 233, 0.3);
  box-shadow: 0 0 8px rgba(14, 165, 233, 0.2);
}

.todo-item-completed {
  background: rgba(16, 185, 129, 0.1);
  border-color: rgba(16, 185, 129, 0.3);
  opacity: 0.8;
}

.todo-item-failed {
  background: rgba(248, 113, 113, 0.1);
  border-color: rgba(248, 113, 113, 0.3);
  opacity: 0.8;
}

.todo-status {
  flex-shrink: 0;
  width: 16px;
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.status-completed {
  color: var(--success-color) !important;
  width: 14px !important;
  height: 14px !important;
}

.status-pending {
  color: var(--text-muted) !important;
  width: 14px !important;
  height: 14px !important;
}

.status-failed {
  color: var(--error-color) !important;
  width: 14px !important;
  height: 14px !important;
}

.loading-spinner {
  width: 12px;
  height: 12px;
  border: 2px solid var(--glass-border);
  border-top: 2px solid var(--accent-blue);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.todo-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0;
}

.todo-text {
  color: var(--text-primary);
  font-weight: 500;
  line-height: 1.3;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.todo-item-completed .todo-text {
  text-decoration: line-through;
  color: var(--text-muted);
}

.todo-tool {
  color: var(--text-muted);
  font-size: 9px;
  font-weight: 400;
  background: rgba(13, 17, 23, 0.8);
  padding: 1px 4px;
  border-radius: 3px;
  font-family: 'SF Mono', 'Monaco', monospace;
  width: fit-content;
}

.todo-progress {
  background: rgba(13, 17, 23, 0.8);
  border-top: 1px solid var(--glass-border);
  padding: 6px 12px;
  display: flex;
  align-items: center;
  gap: 8px;
  flex-shrink: 0;
}

.progress-bar {
  flex: 1;
  height: 4px;
  background: rgba(22, 27, 34, 0.8);
  border-radius: 2px;
  overflow: hidden;
  border: 1px solid var(--glass-border);
}

.progress-fill {
  height: 100%;
  background: var(--accent-gradient);
  border-radius: 2px;
  transition: width 0.3s ease;
  position: relative;
}

.progress-fill::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
  animation: progress-shine 2s infinite;
}

@keyframes progress-shine {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.progress-text {
  color: var(--text-muted);
  font-size: 10px;
  font-weight: 500;
  white-space: nowrap;
}

.todo-completion-message {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(16, 185, 129, 0.15);
  border: 1px solid var(--success-color);
  border-radius: 8px;
  padding: 12px 16px;
  z-index: 10;
  animation: completionPulse 0.5s ease-out;
}

.completion-content {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--success-color);
  font-size: 12px;
  font-weight: 500;
}

.completion-content i {
  width: 16px !important;
  height: 16px !important;
}

@keyframes completionPulse {
  0% {
    transform: translate(-50%, -50%) scale(0.8);
    opacity: 0;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.05);
  }
  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
}

/* Adjust layout when todo list is visible */
.ide-container:has(.todo-list-container[style*="display: block"]) .ide-layout {
  height: calc(100vh - 28px - 240px - 120px); /* Account for todo list */
}

.ide-container[data-layout="side-by-side"]:has(.todo-list-container[style*="display: block"]) .ide-layout {
  height: calc(100vh - 28px - 120px); /* Account for todo list in side-by-side */
}

.ide-container[data-layout="no-chat"]:has(.todo-list-container[style*="display: block"]) .ide-layout {
  height: calc(100vh - 28px - 120px); /* Account for todo list when chat is hidden */
}

/* Todo list scrollbar */
.todo-list::-webkit-scrollbar {
  width: 4px;
}

.todo-list::-webkit-scrollbar-track {
  background: var(--bg-primary);
}

.todo-list::-webkit-scrollbar-thumb {
  background: var(--border-color);
  border-radius: 2px;
}

.todo-list::-webkit-scrollbar-thumb:hover {
  background: var(--text-muted);
}

/* Chat resize performance optimizations */
.chat-interface.resizing {
  transition: none !important;
  will-change: height;
}

.ide-layout.resizing {
  transition: none !important;
  will-change: height;
}

/* Updated chat messages with optimizations */ 

/* AI Selection Overlay - Complete Styling */
.ai-selection-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(13, 17, 23, 0.4);
  backdrop-filter: var(--glass-blur-light);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  animation: fadeIn 0.2s ease;
}

.selection-popup {
  background: rgba(22, 27, 34, 0.95);
  backdrop-filter: var(--glass-blur);
  border: 1px solid var(--glass-border);
  border-radius: 12px;
  padding: 16px;
  box-shadow: var(--glass-shadow-lg);
  position: relative;
}

.selection-popup::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--accent-gradient);
  opacity: 0.05;
  border-radius: 12px;
  pointer-events: none;
}

.selection-actions {
  display: flex;
  gap: 8px;
  position: relative;
  z-index: 1;
}

.btn-ai-action {
  background: rgba(22, 27, 34, 0.9);
  border: 1px solid var(--glass-border);
  color: var(--text-primary);
  padding: 8px 16px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.15s ease;
  backdrop-filter: var(--glass-blur-light);
  white-space: nowrap;
}

.btn-ai-action:hover {
  background: var(--accent-gradient);
  color: white;
  border-color: var(--accent-blue);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(14, 165, 233, 0.3);
}

.btn-ai-action:active {
  transform: translateY(0);
  box-shadow: 0 2px 6px rgba(14, 165, 233, 0.2);
} 

/* Code Selection and AI Highlighting */
.ai-edit-highlight {
  background: rgba(16, 185, 129, 0.2) !important;
  border: 1px solid var(--success-color);
  border-radius: 2px;
  position: relative;
}

.ai-selection-highlight {
  background: rgba(14, 165, 233, 0.25) !important;
  border: 1px solid var(--accent-blue);
  border-radius: 2px;
  position: relative;
}

.ai-error-highlight {
  background: rgba(248, 113, 113, 0.2) !important;
  border: 1px solid var(--error-color);
  border-radius: 2px;
  position: relative;
}

/* Ensure clean post-replacement styling */
.CodeMirror-line span:not([class*="cm-"]) {
  color: var(--text-primary) !important;
  background: transparent !important;
} 

/* Code Context Menu Styling */
.code-context-menu, .file-context-menu, .linting-context-menu {
  position: fixed;
  background: rgba(22, 27, 34, 0.95);
  backdrop-filter: var(--glass-blur);
  border: 1px solid var(--glass-border);
  border-radius: 8px;
  padding: 4px;
  box-shadow: var(--glass-shadow-lg);
  z-index: 10000;
  min-width: 200px;
  font-family: inherit;
  font-size: 12px;
  animation: fadeIn 0.15s ease-out;
  overflow: hidden;
}

.context-menu-section {
  padding: 2px 0;
}

.context-menu-header {
  padding: 6px 12px;
  font-size: 10px;
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  background: rgba(13, 17, 23, 0.5);
  margin: 2px 0;
}

.context-menu-divider {
  height: 1px;
  background: var(--glass-border);
  margin: 4px 8px;
}

.context-menu-item {
  padding: 8px 12px;
  color: var(--text-primary);
  cursor: pointer;
  font-size: 12px;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.15s ease;
  margin: 1px 4px;
  border-radius: 4px;
  user-select: none;
}

.context-menu-item:hover {
  background: rgba(14, 165, 233, 0.15);
  color: var(--accent-blue);
}

.context-menu-custom {
  font-style: italic;
  color: var(--text-secondary);
}

.context-menu-custom:hover {
  background: rgba(232, 121, 249, 0.15);
  color: var(--accent-magenta);
}

.context-menu-chat {
  color: var(--accent-yellow);
  font-weight: 500;
}

.context-menu-chat:hover {
  background: rgba(251, 191, 36, 0.15);
  color: var(--accent-yellow);
}

/* ==================== Autocomplete Ghost Text Styles ==================== */
.cm-ghost-text {
  color: var(--text-muted, #888);
  opacity: 0.6;
  font-style: italic;
  animation: ghostFadeIn 0.15s ease-in;
  pointer-events: none;
  position: relative;
  padding-left: 2px;
}

@keyframes ghostFadeIn {
  from {
    opacity: 0;
    transform: translateX(-2px);
  }
  to {
    opacity: 0.6;
    transform: translateX(0);
  }
}

/* Ensure ghost text appears inline */
.CodeMirror .cm-ghost-text {
  display: inline;
  vertical-align: baseline;
}

/* Style for when ghost text is being updated */
.cm-ghost-text.updating {
  animation: ghostPulse 0.5s ease-in-out infinite;
}

@keyframes ghostPulse {
  0%, 100% {
    opacity: 0.6;
  }
  50% {
    opacity: 0.3;
  }
} 